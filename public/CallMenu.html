<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Call Menu</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <!-- Favicons -->
    <link href="./img/favicon.png" rel="icon" />

    <!-- Google Fonts -->
    <link href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />

    <!-- <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet"> -->

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet" />
  </head>

  <body>
    <section class="d-flex min-vh-100 flex-column">
      <header id="header" class="header sticky-top d-flex align-items-center">
        <div class="d-flex align-items-center justify-content-center">
          <a href="admindashboard.html" class="logo d-flex align-items-center">
            <img src="./img/logo.png" alt="iotcom" />
          </a>
        </div>
        <div class="ms-auto d-flex align-items-end">
          <div id="sidebar" class="sidebar me-5">
            <ul class="sidebar-nav d-flex gap-4" id="sidebar-nav">
              <li class="nav-item">
                <a class="nav-link" href="admindashboard.html">
                  <!-- <i class="bi bi-grid"></i> -->
                  <span>Dashboard</span>
                </a>
              </li>
              <!-- End Dashboard Nav -->

              <li class="nav-item">
                <a class="nav-link collapsed" data-bs-target="#icons-nav" data-bs-toggle="collapse" href="#">
                  <!-- <i class="bi bi-gem"></i> -->
                  <span>Users</span><i class="bi bi-chevron-down ms-2"></i>
                </a>
                <ul id="icons-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
                  <li>
                    <a href="adduser.html"> <i class="bi bi-chevron-right"></i><span>Add New Users</span> </a>
                  </li>
                  <li>
                    <a href="userlist.html">
                      <i class="bi bi-chevron-right"></i><span>User List</span>
                    </a>
                  </li>
                  <li>
                    <a href="AgentLoginHours.html">
                      <i class="bi bi-chevron-right"></i><span>Agent Login Hours</span>
                    </a>
                  </li>

                  <li>
                    <a href="Forcelogout.html"> <i class="bi bi-chevron-right"></i><span>Force Logout</span> </a>
                  </li>
                </ul>
              </li>

              <!-- Broadcast Section -->
              <li class="nav-item">
                <a class="nav-link collapsed" data-bs-target="#Broadcast-nav" data-bs-toggle="collapse" href="#">
                  <!-- <i class="bi bi-broadcast"></i> -->
                  <span>Broadcast</span><i class="bi bi-chevron-down ms-2"></i>
                </a>
                <ul id="Broadcast-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
                  <li>
                    <a href="broadcast.html"> <i class="bi bi-chevron-right"></i><span>Add Broadcast</span> </a>
                  </li>
                  <li>
                    <a href="Broadcastform.html"> <i class="bi bi-chevron-right"></i><span>Upload Broadcast</span> </a>
                  </li>
                  <li>
                    <a href="broadCastReport.html">
                      <i class="bi bi-chevron-right"></i><span>Broadcast Report</span>
                    </a>
                  </li>
                  <li>
                    <a href="broadCastSummary.html">
                      <i class="bi bi-chevron-right"></i><span>Broadcast Summary</span>
                    </a>
                  </li>
                  <!-- Add more items as needed -->
                </ul>
              </li>

              <!-- campagian Section -->
              <li class="nav-item">
                <a class="nav-link collapsed" data-bs-target="#Campaign-nav" data-bs-toggle="collapse" href="#">
                  <!-- <i class="bi bi-layout-text-window-reverse"></i> -->
                  <span>Campaign</span><i class="bi bi-chevron-down ms-2"></i>
                </a>
                <ul id="Campaign-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
                  <li>
                    <a href="newcampaign.html"> <i class="bi bi-chevron-right"></i><span>Add Campaign</span> </a>
                  </li>

                  <li>
                    <a href="form.html"> <i class="bi bi-chevron-right"></i><span>Upload Campaign</span> </a>
                  </li>
                  <!-- Add more items as needed -->
                </ul>
              </li>
              <!-- End Blank Page Nav -->

              <li class="nav-item">
                <a class="nav-link collapsed active" href="CallMenu.html">
                  <!-- <i class="bi bi-telephone-plus"></i> -->
                  <span>Call Menu</span>
                </a>
              </li>
              <!-- End Blank Page Nav -->

              <li class="nav-item">
                <a class="nav-link collapsed" href="AudioStore.html">
                  <!-- <i class="bi bi-file-earmark-music"></i> -->
                  <span>Audio Store</span>
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link collapsed" href="DID.html">
                  <!-- <i class="bi bi-card-list"></i> -->
                  <span>Add/Show DID</span>
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link collapsed" data-bs-target="#Data-nav" data-bs-toggle="collapse" href="#">
                  <span>Call Data</span> <i class="bi bi-chevron-down ms-2"></i>
                </a>
                <ul id="Data-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
                  <li>
                    <a href="IncomingCallData.html">
                      <i class="bi bi-chevron-right"></i><span>Incoming Call Data</span>
                    </a>
                  </li>

                  <li>
                    <a href="OutgoinfCallData.html">
                      <i class="bi bi-chevron-right"></i><span>Outgoing Call Data</span>
                    </a>
                  </li>
                  <li>
                    <a href="incomingDrop.html"> <i class="bi bi-chevron-right"></i><span>Drop CallData</span> </a>
                  </li>
                  <!-- Add more items as needed -->
                </ul>
              </li>
            </ul>
          </div>

          <!-- End Logo -->

          <div class="search-bar" style="display: none">
            <form class="search-form d-flex align-items-center" method="POST" action="#">
              <input type="text" name="query" placeholder="Search" title="Enter search keyword" />
              <button type="submit" title="Search">
                <i class="bi bi-search"></i>
              </button>
            </form>
          </div>
          <!-- End Search Bar -->

          <nav class="header-nav ms-auto">
            <ul class="d-flex align-items-center">
              <li class="nav-item d-block d-lg-none">
                <a class="nav-link nav-icon search-bar-toggle" href="#" style="display: none">
                  <i class="bi bi-search"></i>
                </a>
              </li>
              <!-- End Search Icon-->

              <li class="nav-item dropdown pe-3">
                <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
                  <img src="img/shiv.jpg" alt="Profile" class="rounded-circle" />
                  <span class="d-none d-md-block dropdown-toggle ps-2 text-capitalize" id="displayUsername"></span> </a
                ><!-- End Profile Iamge Icon -->

                <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
                  <li class="dropdown-header text-capitalize">
                    <h6 id="displayUsername1">Shiv Shekhawat</h6>
                    <span id="displayorg">Web Designer</span>
                  </li>
                  <li>
                    <hr class="dropdown-divider" />
                  </li>

                  <li>
                    <a class="dropdown-item d-flex align-items-center" href="users-profile.html">
                      <i class="bi bi-person"></i>
                      <span>My Profile</span>
                    </a>
                  </li>
                  <li>
                    <hr class="dropdown-divider" />
                  </li>

                  <li>
                    <a class="dropdown-item d-flex align-items-center" href="users-profile.html">
                      <i class="bi bi-gear"></i>
                      <span>Account Settings</span>
                    </a>
                  </li>
                  <li>
                    <hr class="dropdown-divider" />
                  </li>

                  <li>
                    <a class="dropdown-item d-flex align-items-center" href="pages-faq.html">
                      <i class="bi bi-question-circle"></i>
                      <span>Need Help?</span>
                    </a>
                  </li>
                  <li>
                    <hr class="dropdown-divider" />
                  </li>

                  <li>
                    <a class="dropdown-item d-flex align-items-center" href="#" onclick="signOut()">
                      <i class="bi bi-box-arrow-right"></i>
                      <span>Sign Out</span>
                    </a>
                  </li>
                </ul>
                <!-- End Profile Dropdown Items -->
              </li>
              <!-- End Profile Nav -->
            </ul>
          </nav>
        </div>
        <!-- End Icons Navigation -->
      </header>
      <!-- End Sidebar-->

      <main id="main" class="main flex-grow-1">
        <div class="container-fluid">
          <div class="row">
            <div class="col">
              <div class="p-3 m-2 bg-white shadow-sm rounded-1">
                <div class="d-flex align-items-center justify-content-between">
                  <h3 class="text-center mb-4">Call Menu Table</h3>
                  <button type="button" class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#myModal">
                    Create New Call Menu
                  </button>
                </div>
                <!-- End Sidebar-->
                <div class="table-responsive rounded">
                  <!-- Modal for adding new DID -->

                  <table class="table">
                    <thead class="thead">
                      <tr>
                        <th>Menu ID</th>
                        <th>Menu Name</th>
                        <th>Actions</th>
                        <th>Delete</th>
                      </tr>
                    </thead>
                    <tbody id="fileTable">
                      <!-- Add  rows as needed -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div
          class="modal fade modal-lg"
          id="myModal"
          tabindex="-1"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Add New Callmenu</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <!-- Form to add new Callmenu -->
                <form id="addcallmenuForm">
                  <div class="mb-3">
                    <label for="callmenuId" class="form-label">Call Menu ID</label>
                    <input type="text" class="form-control" id="callmenuId" name="callmenuId" />
                  </div>
                  <div class="mb-3">
                    <label for="callmenuname" class="form-label">Call Menu Name</label>
                    <input type="text" class="form-control" id="callmenuname" name="callmenuname" />
                  </div>
                  <div class="text-center">
                    <button type="submit" class="btn btn-primary">Add Call Menu</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <div class="notification" id="successMessage">
          <div class="notification-content">
            <p>CallMenu Added Successfully!</p>
          </div>
        </div>

        <div class="notification" id="EditMessage">
          <div class="notification-content">
            <p>CallMenu Edit Successfully!</p>
          </div>
        </div>

        <div class="notification" id="DeleteMessage">
          <div class="notification-content">
            <p>CallMenu Delete Successfully!</p>
          </div>
        </div>

        <div
        class="modal fade modal-xl"
        id="editModal"
          tabindex="-1"
          role="dialog"
          aria-labelledby="editModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog custom-modal" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Edit Menu</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form id="editcallmenu">
                  <div class="row">
                    <div class="col-md-4">
                      <div class="form-group">
                        <label for="EditCallMenu">CallMenu ID</label>
                        <input class="form-control" type="text" name="EditCallMenu" id="EditCallMenu" disabled />
                      </div>
                    </div>

                    <div class="col">
                      <div class="form-group">
                        <label for="audioSelector">Audio Select:</label>
                        <select class="form-select" id="audioSelector" name="audioSelectorc">
                          <!-- Add more options if needed -->
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="d-grid gap-3">
                    <h4 class="text-center mt-3">Menu Call Option</h4>

                    <div class="row">
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="option1">Option:</label>
                          <select class="form-control" id="option1">
                            <option value="" disabled selected>Select an Option</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option>7</option>
                            <option>8</option>
                            <option>9</option>
                            <option>0</option>
                            <option>*</option>
                            <option>#</option>
                            <option>Invalid</option>
                            <option>Timeout</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="description1">Description:</label>
                          <input type="text" class="form-control" id="description1" placeholder="Enter Description" />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="route">Route:</label>
                          <select class="form-control" id="route1">
                            <option>Select a Route</option>
                            <option value="callmenu">Callmenu</option>
                            <option value="hangup">Hangup</option>
                            <option value="campaign">Campaign</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div id="callmenuOptions1" style="display: none">
                          <label for="callmenuOption1">Callmenu specific options:</label>
                          <!-- Callmenu specific options here -->
                          <select class="form-control" id="callmenuInput1">
                            <!-- options will be created dynamically -->
                          </select>
                        </div>

                        <div id="hangupOption1" style="display: none">
                          <!-- <label for="hangupOption">Hangup specific options:</label>
                      - Hangup specific options here -
                      <select class="form-control" id="hangupInput">
                        <option value="" disabled selected>Select a hangup</option>
                        <option>option1</option>
                        <option>option2</option>
                        <option>option3</option>
                      </select> -->
                        </div>

                        <div id="campaignOption1" style="display: none">
                          <label for="campaignOption1">Campaign specific options:</label>
                          <!-- Campaign specific options here -->
                          <select class="form-control" id="campaignInput1">
                            <option value="" disabled selected>Select a campaign</option>
                            <!-- Campaign specific options here -->
                          </select>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="option2">Option:</label>
                          <select class="form-control" id="option2">
                            <option value="" disabled selected>Select an Option</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option>7</option>
                            <option>8</option>
                            <option>9</option>
                            <option>0</option>
                            <option>*</option>
                            <option>#</option>
                            <option>Invalid</option>
                            <option>Timeout</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="description2">Description:</label>
                          <input type="text" class="form-control" id="description2" placeholder="Enter Description" />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="route">Route:</label>
                          <select class="form-control" id="route2">
                            <option>Select a Route</option>
                            <option value="callmenu">Callmenu</option>
                            <option value="hangup">Hangup</option>
                            <option value="campaign">Campaign</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div id="callmenuOptions2" style="display: none">
                          <label for="callmenuOption2">Callmenu specific options:</label>
                          <!-- Callmenu specific options here -->
                          <select class="form-control" id="callmenuInput2">
                            <!-- options will be created dynamically -->
                          </select>
                        </div>

                        <div id="hangupOption2" style="display: none">
                          <!-- <label for="hangupOption">Hangup specific options:</label>
                      - Hangup specific options here -
                      <select class="form-control" id="hangupInput">
                        <option value="" disabled selected>Select a hangup</option>
                        <option>option1</option>
                        <option>option2</option>
                        <option>option3</option>
                      </select> -->
                        </div>

                        <div id="campaignOption2" style="display: none">
                          <label for="campaignOption2">Campaign specific options:</label>
                          <!-- Campaign specific options here -->
                          <select class="form-control" id="campaignInput2">
                            <option value="" disabled selected>Select a campaign</option>
                            <!-- Campaign specific options here -->
                          </select>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="option3">Option:</label>
                          <select class="form-control" id="option3">
                            <option value="" disabled selected>Select an Option</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option>7</option>
                            <option>8</option>
                            <option>9</option>
                            <option>0</option>
                            <option>*</option>
                            <option>#</option>
                            <option>Invalid</option>
                            <option>Timeout</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="description3">Description:</label>
                          <input type="text" class="form-control" id="description3" placeholder="Enter Description" />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="route3">Route:</label>
                          <select class="form-control" id="route3">
                            <option>Select a Route</option>
                            <option value="callmenu">Callmenu</option>
                            <option value="hangup">Hangup</option>
                            <option value="campaign">Campaign</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div id="callmenuOptions3" style="display: none">
                          <label for="callmenuOption3">Callmenu specific options:</label>
                          <!-- Callmenu specific options here -->
                          <select class="form-control" id="callmenuInput3">
                            <!-- options will be created dynamically -->
                          </select>
                        </div>

                        <div id="hangupOption3" style="display: none">
                          <!-- <label for="hangupOption">Hangup specific options:</label>
                      - Hangup specific options here -
                      <select class="form-control" id="hangupInput">
                        <option value="" disabled selected>Select a hangup</option>
                        <option>option1</option>
                        <option>option2</option>
                        <option>option3</option>
                      </select> -->
                        </div>

                        <div id="campaignOption3" style="display: none">
                          <label for="campaignOption">Campaign specific options:</label>
                          <!-- Campaign specific options here -->
                          <select class="form-control" id="campaignInput3">
                            <option value="" disabled selected>Select a campaign</option>
                            <!-- Campaign specific options here -->
                          </select>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="option4">Option:</label>
                          <select class="form-control" id="option4">
                            <option value="" disabled selected>Select an Option</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option>7</option>
                            <option>8</option>
                            <option>9</option>
                            <option>0</option>
                            <option>*</option>
                            <option>#</option>
                            <option>Invalid</option>
                            <option>Timeout</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="description4">Description:</label>
                          <input type="text" class="form-control" id="description4" placeholder="Enter Description" />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="route4">Route:</label>
                          <select class="form-control" id="route4">
                            <option>Select a Route</option>
                            <option value="callmenu">Callmenu</option>
                            <option value="hangup">Hangup</option>
                            <option value="campaign">Campaign</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div id="callmenuOptions4" style="display: none">
                          <label for="callmenuOption4">Callmenu specific options:</label>
                          <!-- Callmenu specific options here -->
                          <select class="form-control" id="callmenuInput4">
                            <!-- options will be created dynamically -->
                          </select>
                        </div>

                        <div id="hangupOption4" style="display: none">
                          <!-- <label for="hangupOption">Hangup specific options:</label>
                      - Hangup specific options here -
                      <select class="form-control" id="hangupInput">
                        <option value="" disabled selected>Select a hangup</option>
                        <option>option1</option>
                        <option>option2</option>
                        <option>option3</option>
                      </select> -->
                        </div>

                        <div id="campaignOption4" style="display: none">
                          <label for="campaignOption4">Campaign specific options:</label>
                          <!-- Campaign specific options here -->
                          <select class="form-control" id="campaignInput4">
                            <option value="" disabled selected>Select a campaign</option>
                            <!-- Campaign specific options here -->
                          </select>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="option5">Option:</label>
                          <select class="form-control" id="option5">
                            <option value="" disabled selected>Select an Option</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option>7</option>
                            <option>8</option>
                            <option>9</option>
                            <option>0</option>
                            <option>*</option>
                            <option>#</option>
                            <option>Invalid</option>
                            <option>Timeout</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="description">Description:</label>
                          <input type="text" class="form-control" id="description5" placeholder="Enter Description" />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="route5">Route:</label>
                          <select class="form-control" id="route5">
                            <option>Select a Route</option>
                            <option value="callmenu">Callmenu</option>
                            <option value="hangup">Hangup</option>
                            <option value="campaign">Campaign</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div id="callmenuOptions5" style="display: none">
                          <label for="callmenuOption5">Callmenu specific options:</label>
                          <!-- Callmenu specific options here -->
                          <select class="form-control" id="callmenuInput5">
                            <!-- options will be created dynamically -->
                          </select>
                        </div>

                        <div id="hangupOption5" style="display: none">
                          <!-- <label for="hangupOption">Hangup specific options:</label>
                      - Hangup specific options here -
                      <select class="form-control" id="hangupInput">
                        <option value="" disabled selected>Select a hangup</option>
                        <option>option1</option>
                        <option>option2</option>
                        <option>option3</option>
                      </select> -->
                        </div>

                        <div id="campaignOption5" style="display: none">
                          <label for="campaignOption5">Campaign specific options:</label>
                          <!-- Campaign specific options here -->
                          <select class="form-control" id="campaignInput5">
                            <option value="" disabled selected>Select a campaign</option>
                            <!-- Campaign specific options here -->
                          </select>
                        </div>
                      </div>
                    </div>

                    <div class="text-center">
                      <button type="submit" class="btn btn-primary" id="editcallmenubtn">Save Changes</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- End #main -->

      <!-- ======= Footer ======= -->
      <footer id="footer" class="footer">
        <div class="copyright">
          &copy; Copyright <strong><span>iotcom</span></strong
          >. All Rights Reserved
        </div>
        <div class="credits">Designed by <a href="https://www.iotcom.io/">Iotcom</a></div>
      </footer>
    </section>
    <!-- End Footer -->

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Template Main JS File -->
    <!-- <script src="assets/js/main.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>

      const storedUsername = JSON.parse(localStorage.getItem('admininfo')).user;
      const storedorg = JSON.parse(localStorage.getItem('admininfo')).organization;
      var callmenuname = [];

      if (storedUsername) {
        document.getElementById('displayUsername').innerText = storedUsername;
        document.getElementById('displayUsername1').innerText = storedUsername;
        document.getElementById('displayorg').innerText = storedorg;
      } else {
        document.getElementById('displayUsername').innerText = 'No stored username found.';
        document.getElementById('displayUsernam1').innerText = 'No stored username found.';
      }

      document.addEventListener('DOMContentLoaded', function () {
        createdom()
          .then(() => {
            console.log(callmenuname);
            optioncreate(callmenuname, 'callmenuInput1');
            optioncreate(callmenuname, 'callmenuInput2');
            optioncreate(callmenuname, 'callmenuInput3');
            optioncreate(callmenuname, 'callmenuInput4');
            optioncreate(callmenuname, 'callmenuInput5');
          })
          .catch((error) => {
            console.error('Error:', error);
          });
      });

      async function createdom() {
        await fetch('/callmenuname', {
          headers: {
            Authorization: `Bearer ${localStorage.getItem('jwtToken')}`,
          },
        })
          .then((response) => {
            if (response.status === 401) {
              // Unauthorized response handling: redirect to index page or handle as needed
              window.location.href = '/login.html'; // Replace with your index page URL
            } else if (!response.ok) {
              throw new Error('Network response was not ok');
            } else {
              return response.json();
            }
          })
          .then((data) => {
            callmenuname = data.result;
            console.log(callmenuname);
            refreshTable(callmenuname);
          })
          .catch((error) => {
            console.error('Error fetching user details:', error);
          });
      }

      function refreshTable(file) {
        var audioFiles = file || [];
        console.log(audioFiles);
        var table = document.getElementById('fileTable');
        table.innerHTML = '';

        audioFiles.forEach(function (file, index) {
          var newRow = table.insertRow(table.rows.length);
          var cell1 = newRow.insertCell(0);
          var cell2 = newRow.insertCell(1);
          var cell3 = newRow.insertCell(2);
          var cell4 = newRow.insertCell(3);

          cell1.textContent = file.callmenuid;
          cell2.textContent = file.callmenuname;
          var editButton = document.createElement('button');
          editButton.className = 'btn btn-success px-2 py-1 rounded-1 fs-14';
          editButton.innerHTML = '<i class="bi bi-pencil-square"></i>';
          cell3.appendChild(editButton);

          var deleteButton = document.createElement('button');
          deleteButton.className = 'btn btn-danger px-2 py-1 rounded-1 fs-14';
          deleteButton.innerHTML = "<i class='bi bi-trash'></i>";
          cell4.appendChild(deleteButton);

          editButton.addEventListener('click', () => editcallmenu(file, index));
          deleteButton.addEventListener('click', () => deletecallmenu(file, index));
        });
      }

      // Function to delete callmenu from data
      function deletecallmenu(file, index) {
        const confirmation = window.confirm(`Do you really want to delete ${file.callmenuname} CallMenu?`);
        if (confirmation) {
          const callmenuid = file.callmenuid; // getting callmenu id
          const url = `/callmenu/${callmenuid}`;

          // Make a DELETE request to the server
          fetch(url, {
            method: 'DELETE',
            headers: {
              Authorization: `Bearer ${localStorage.getItem('jwtToken')}`,
            },
          })
            .then((response) => {
              if (response.status === 401) {
                // Unauthorized response handling: redirect to index page or handle as needed
                window.location.href = '/login.html'; // Replace with your index page URL
              } else if (!response.ok) {
                throw new Error('Failed to delete callmenu');
              } else {
                return response.json();
              }
            })
            .then((data) => {
              console.log(data.message); // You can do something with the response from the server if needed

              var notification = document.getElementById('DeleteMessage');
              notification.classList.add('show-notification');

              setTimeout(function () {
                notification.classList.remove('show-notification');
                createdom();
              }, 1000);
            })
            .catch((error) => {
              console.error('Error deleting callMenu:', error);
            });
        }
      }

      async function editcallmenu(file, index) {
        $('#editModal').modal('show');
        const form = document.getElementById('editcallmenu');
        console.log("call menu data",file);

        // Set default values based on the selected file
        let editcallmenumenuID = (document.getElementById('EditCallMenu').value = file.callmenuid);
        document.getElementById('audioSelector').value = file.sound;
        if (file.id) {
          // Loop through the options and set default values
          file.option.forEach((option, optionIndex) => {
            const optionNumber = optionIndex + 1;
            const digitInput = document.getElementById(`option${optionNumber}`);
            const descriptionInput = document.getElementById(`description${optionNumber}`);
            const typeInput = document.getElementById(`route${optionNumber}`);
            const actionInput = document.getElementById(`callmenuInput${optionNumber}`);
            
            digitInput.value = option.digit ? option.digit : '';
            descriptionInput.value = option.description ? option.description : '';
            typeInput.value = option.action.type ? option.action.type : '';
            actionInput.value = option.action.id ? option.action.id : '';
            displaySelectedOption(optionNumber,option.action.type,option.action.id);
          });
        }

        document.getElementById('editcallmenubtn').addEventListener('click', handleAddRowBtnClick);
        // Remove event listener when the modal is hidden
        $('#editModal').on('hidden.bs.modal', function () {
          document.getElementById('editcallmenubtn').removeEventListener('click', handleAddRowBtnClick);
        });

        async function handleAddRowBtnClick() {
          const soundselect = document.getElementById('audioSelector').value;
          const option1 = document.getElementById('option1').value;
          const description1 = document.getElementById('description1').value;
          const type1 = document.getElementById('route1').value;
          let action1;
          if (type1 === 'callmenu') {
            action1 = document.getElementById('callmenuInput1').value;
          } else if (type1 === 'campaign') {
            action1 = document.getElementById('campaignInput1').value;
            action1 = parseInt(action1, 10);
            console.log('action1', action1);
          } else {
            //hangup option
            action1 = 'Hangup';
          }
          const option2 = document.getElementById('option2').value;
          const description2 = document.getElementById('description2').value;
          const type2 = document.getElementById('route2').value;
          let action2;
          if (type2 === 'callmenu') {
            action2 = document.getElementById('callmenuInput2').value;
          } else if (type2 === 'campaign') {
            action2 = document.getElementById('campaignInput2').value;
            action2 = parseInt(action2, 10);
          } else {
            //hangup option
            action2 = 'Hangup';
          }
          const option3 = document.getElementById('option3').value;
          const description3 = document.getElementById('description3').value;
          const type3 = document.getElementById('route3').value;
          let action3;
          if (type3 === 'callmenu') {
            action3 = document.getElementById('callmenuInput3').value;
          } else if (type3 === 'campaign') {
            action3 = document.getElementById('campaignInput3').value;
            action3 = parseInt(action3, 10);
          } else {
            //hangup option
            action3 = 'Hangup';
          }
          const option4 = document.getElementById('option4').value;
          const description4 = document.getElementById('description4').value;
          const type4 = document.getElementById('route4').value;
          let action4;
          if (type4 === 'callmenu') {
            action4 = document.getElementById('callmenuInput4').value;
          } else if (type4 === 'campaign') {
            action4 = document.getElementById('campaignInput4').value;
            action4 = parseInt(action4, 10);
          } else {
            //hangup option
            action4 = 'Hangup';
          }
          const option5 = document.getElementById('option5').value;
          const description5 = document.getElementById('description5').value;
          const type5 = document.getElementById('route5').value;
          let action5;
          if (type5 === 'callmenu') {
            action5 = document.getElementById('callmenuInput5').value;
          } else if (type5 === 'campaign') {
            action5 = document.getElementById('campaignInput5').value;
            action5 = parseInt(action5, 10);
          } else {
            //hangup option
            action5 = 'Hangup';
          }

          // Filter out blank options
          const nonBlankOptions = [option1, option2, option3, option4, option5].filter(
            (option) => option.trim() !== ''
          );

          // Check if there are at least two non-blank options
          if (nonBlankOptions.length >= 2) {
            // Check if any of the non-blank digit values are equal
            if (areOptionsEqual(nonBlankOptions)) {
              alert('Digit values must be unique for each non-blank option.');
              return; // Prevent further processing
            }
          }

          // Function to check if any non-blank options are equal
          function areOptionsEqual(options) {
            const uniqueOptions = new Set(options);
            return uniqueOptions.size !== options.length;
          }

          const ivr = {
            id: editcallmenumenuID,
            sound: soundselect,
            option: [
              {
                digit: option1,
                description: description1,
                action: {
                  type: type1,
                  id: action1,
                },
              },
              {
                digit: option2,
                description: description2,
                action: {
                  type: type2,
                  id: action2,
                },
              },
              {
                digit: option3,
                description: description3,
                action: {
                  type: type3,
                  id: action3,
                },
              },
              {
                digit: option4,
                description: description4,
                action: {
                  type: type4,
                  id: action4,
                },
              },
              {
                digit: option5,
                description: description5,
                action: {
                  type: type5,
                  id: action5,
                },
              },
            ],
          };

          // console.log(ivr);
          const url = `/callmenu/${editcallmenumenuID}`;

          // Make a edit request to the server
          fetch(url, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              Authorization: `Bearer ${localStorage.getItem('jwtToken')}`,
            },
            body: JSON.stringify(ivr),
          })
            .then((response) => {
              if (response.status === 401) {
                // Unauthorized response handling: redirect to index page or handle as needed
                window.location.href = '/login.html'; // Replace with your index page URL
              } else if (!response.ok) {
                throw new Error('Failed to update callmenu');
              } else {
                return response.json();
              }
            })
            .then((data) => {
              console.log(data.message); // You can do something with the response from the server if needed
              form.reset();
              $('#editModal').modal('hide');
              var notification = document.getElementById('EditMessage');
              notification.classList.add('show-notification');

              setTimeout(function () {
                notification.classList.remove('show-notification');
                createdom();
              }, 1000);
            })
            .catch((error) => {
              console.error('Error Updating callmenu:', error);
            });
        }
      }

      fetch('/sounddetails', {
        headers: {
          Authorization: `Bearer ${localStorage.getItem('jwtToken')}`,
        },
      })
        .then((response) => {
          if (response.status === 401) {
            // Unauthorized response handling: redirect to index page or handle as needed
            window.location.href = '/login.html'; // Replace with your index page URL
          } else if (!response.ok) {
            throw new Error('Network response was not ok');
          } else {
            return response.json();
          }
        })
        .then((data) => {
          soundDetails = data.result;
          console.log(soundDetails);
          optioncreate(soundDetails, 'audioSelector');
        })
        .catch((error) => {
          console.error('Error fetching user details:', error);
        });

      let campaigndetails;
      fetch('/campaigndetails', {
        headers: {
          Authorization: `Bearer ${localStorage.getItem('jwtToken')}`,
        },
      })
        .then((response) => {
          if (response.status === 401) {
            // Unauthorized response handling: redirect to index page or handle as needed
            window.location.href = '/login.html'; // Replace with your index page URL
          } else if (!response.ok) {
            throw new Error('Network response was not ok');
          } else {
            return response.json();
          }
        })
        .then((data) => {
          campaigndetails = data.result;
          console.log(campaigndetails);
          optioncreate(campaigndetails, 'campaignInput1');
          optioncreate(campaigndetails, 'campaignInput2');
          optioncreate(campaigndetails, 'campaignInput3');
          optioncreate(campaigndetails, 'campaignInput4');
          optioncreate(campaigndetails, 'campaignInput5');
        })
        .catch((error) => {
          console.error('Error fetching campaign details:', error);
        });

      function optioncreate(Array, SelectID) {
        const Data = Array || [];
        // Generate new options based on selected supplier
        const optionSelect = document.getElementById(SelectID);
        Data.forEach((obj) => {
          const option = document.createElement('option');
          option.class = 'form.select';
          option.value = obj.name || obj.callmenuid || obj.campaignID;
          option.text = obj.name || obj.callmenuname || obj.campaignname;
          optionSelect.appendChild(option);
        });
      }

      // Loop through 5 sets of elements
      for (var i = 1; i <= 5; i++) {
        (function (index) {
          var routeSelect = document.getElementById('route' + index);
          var callmenuOptions = document.getElementById('callmenuOptions' + index);
          var hangupOption = document.getElementById('hangupOption' + index);
          var campaignOption = document.getElementById('campaignOption' + index);

          // Add event listener to each routeSelect element
          routeSelect.addEventListener('change', function () {
            // Hide all options initially
            callmenuOptions.style.display = 'none';
            hangupOption.style.display = 'none';
            campaignOption.style.display = 'none';

            // Show the selected option's corresponding div
            if (routeSelect.value === 'callmenu') {
              callmenuOptions.style.display = 'block';
            } else if (routeSelect.value === 'hangup') {
              hangupOption.style.display = 'block';
            } else if (routeSelect.value === 'campaign') {
              campaignOption.style.display = 'block';
            }
          });
        })(i);
      }

      document.getElementById('addcallmenuForm').addEventListener('submit', async function (event) {
        event.preventDefault();

        // Get input values
        var newId = document.getElementById('callmenuId').value;
        var newName = document.getElementById('callmenuname').value;

        // Check if all fields are filled
        if (newId && newName) {
          const CallmenuData = {
            callmenuid: newId,
            callmenuname: newName,
          };
          console.log(CallmenuData);
          try {
            const response = await fetch('/createcallmenu', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                Authorization: `Bearer ${localStorage.getItem('jwtToken')}`,
              },
              body: JSON.stringify(CallmenuData),
            });
            if (response) {
              if (response.status === 401) {
                // Unauthorized response handling: redirect to index page or handle as needed
                window.location.href = '/login.html'; // Replace with your index page URL
              } else {
                //console.log(response);
                const result = await response.json();

                if (result.message === 'callmenu created successfully') {
                  $('#myModal').modal('hide');
                  var notification = document.getElementById('successMessage');
                  notification.classList.add('show-notification');

                  setTimeout(function () {
                    notification.classList.remove('show-notification');
                    createdom();
                  }, 1000);
                } else {
                  alert(result.message);
                }
              }
            } else {
              console.log('no response');
              alert('server connection error');
            }
          } catch (err) {
            console.log('error', err);
          }
        } else {
          // If not all fields are filled, display an error message
          alert('Please fill out all fields before adding the DID.');
        }
      });
      
       function displaySelectedOption(a,b,c){
        console.log(a,b,c);
         if(b==="campaign"){
            document.getElementById(`campaignOption${a}`).style.display = "block";
            document.getElementById(`campaignInput${a}`).value = c ;
            document.getElementById(`campaignInput${a}`).text = campaigndetails.find(a=>a.campaignID==c).campaignname;
         }else if(b==="callmenu"){
          document.getElementById(`callmenuOptions${a}`).style.display = "block";
          document.getElementById(`callmenuInput${a}`).value = c ;
          document.getElementById(`callmenuInput${a}`).text = callmenuname.find(a=>a.callmenuid==c).callmenuname;
         }else{

         }

       }



      function signOut() {
        // Clear localStorage (optional)
        localStorage.removeItem('admininfo');
        localStorage.removeItem('jwtToken');
        localStorage.removeItem('didData');

        // Redirect to the desired location
        window.location.href = '/login.html';
      }
    </script>
  </body>
</html>
